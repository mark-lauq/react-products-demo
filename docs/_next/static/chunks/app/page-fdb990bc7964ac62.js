(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3586:(e,t,r)=>{Promise.resolve().then(r.bind(r,8155))},8155:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var a=r(5155),i=r(2115),n=r(432),d=r(6715),s=r(192);class o extends i.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error({error:e,errorInfo:t})}render(){return this.state.hasError?(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Oops, there is an error!"}),(0,a.jsx)("button",{type:"button",onClick:()=>this.setState({hasError:!1}),children:"Try again?"})]}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}var l=r(5695),c=r(6766),u=r(1769);function h(e){let{children:t}=e;return(0,a.jsx)("div",{className:"absolute inset-0 flex justify-center items-center font-normal",children:t})}var v=r(4451),x=r(2596),m=r(9688);function f(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,m.QP)((0,x.$)(t))}function g(e){let{...t}=e;return(0,a.jsx)(v._s.Root,{"data-slot":"drawer",...t})}function p(e){let{...t}=e;return(0,a.jsx)(v._s.Portal,{"data-slot":"drawer-portal",...t})}function b(e){let{className:t,...r}=e;return(0,a.jsx)(v._s.Overlay,{"data-slot":"drawer-overlay",className:f("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function w(e){let{className:t,children:r,...i}=e;return(0,a.jsxs)(p,{"data-slot":"drawer-portal",children:[(0,a.jsx)(b,{}),(0,a.jsxs)(v._s.Content,{"aria-describedby":void 0,"data-slot":"drawer-content",className:f("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...i,children:[(0,a.jsx)(y,{}),(0,a.jsx)("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),r]})]})}function j(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"drawer-header",className:f("flex flex-col gap-1.5 p-4",t),...r})}function y(e){let{className:t,...r}=e;return(0,a.jsx)(v._s.Title,{"data-slot":"drawer-title",className:f("text-foreground font-semibold",t),...r})}function N(e){let{className:t,...r}=e;return(0,a.jsx)(v._s.Description,{"data-slot":"drawer-description",className:f("text-muted-foreground text-sm",t),...r})}var k=r(9708);let P=(0,r(2085).F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/70",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function S(e){let{className:t,variant:r,asChild:i=!1,...n}=e,d=i?k.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:f(P({variant:r}),t),...n})}function _(e){let{price:t,category:{name:r}}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"font-medium text-sm mb-0.5",children:"Price: ".concat(t)}),(0,a.jsx)(S,{children:r})]})}let C=Symbol("PRODUCT");function E(e){var t;let{id:r,open:i,setOpen:n}=e,{data:d,isFetching:s}=(0,u.I)({queryKey:[C,r],queryFn:async()=>{let e=await fetch("".concat("https://api.escuelajs.co/api/v1","/products/").concat(r));return await e.json()}}),o=(0,l.useRouter)();return(0,a.jsx)(g,{direction:"right",open:i,onOpenChange:e=>{e||o.push("/"),n(e)},children:(0,a.jsx)(p,{children:(0,a.jsx)(w,{children:s?(0,a.jsx)(h,{children:"Product loading ..."}):d&&(0,a.jsxs)(j,{className:"flex items-center",children:[(0,a.jsx)(c.default,{src:null===(t=d.images)||void 0===t?void 0:t[0],alt:"Product Image",width:100,height:100}),(0,a.jsx)(y,{className:"text-lg",children:d.title}),(0,a.jsx)(_,{...d}),(0,a.jsx)(N,{children:d.description})]})})})})}let O=Symbol("PRODUCTS"),D=async()=>{let e=new URLSearchParams({offset:"0",limit:"10"}).toString(),t=await fetch("".concat("https://api.escuelajs.co/api/v1","/products?").concat(e));return await t.json()};function R(){let{data:e,isFetching:t}=(0,u.I)({queryFn:D,queryKey:[O]}),r=(0,l.useRouter)(),n=(0,l.useSearchParams)().get("id"),[d,s]=(0,i.useState)(n),[o,v]=(0,i.useState)(!!n),x=e=>{s(e),v(!0),r.push("/?id=".concat(e))};return t?(0,a.jsx)(h,{children:"Products loading ..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("ul",{children:null==e?void 0:e.map(e=>{let{id:t,title:r,images:i,price:n,category:d}=e;return(0,a.jsxs)("li",{className:"flex mb-4 p-4 items-center cursor-pointer hover:bg-gray-200",onClick:()=>{x(String(t))},children:[(0,a.jsx)(c.default,{src:null==i?void 0:i[0],alt:"Product Image",className:"mr-2",width:100,height:100}),(0,a.jsxs)("section",{children:[(0,a.jsx)("header",{className:"text-lg font-semibold",children:r}),(0,a.jsx)(_,{price:n,category:d})]})]},t)})}),d&&(0,a.jsx)(E,{id:d,open:o,setOpen:v})]})}let F=new n.E;function I(){return(0,a.jsx)(o,{children:(0,a.jsxs)(d.Ht,{client:F,children:[(0,a.jsx)(i.Suspense,{children:(0,a.jsx)(R,{})}),(0,a.jsx)(s.E,{})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[398,441,684,358],()=>t(3586)),_N_E=e.O()}]);